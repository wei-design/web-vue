è¯ä¸å¤šè¯´ï¼Œå…ˆçœ‹æˆå“ğŸ‘‡
# @wei_design/web-vue
[A Vue.js 3 UI library](https://wei-design.github.io/web-vue/)

![](https://img.shields.io/badge/%E6%96%87%E6%A1%A3%E5%BA%93-vitepress-brightgreen.svg#crop=0&crop=0&crop=1&crop=1&id=tXEY6&originHeight=20&originWidth=102&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
![](https://img.shields.io/npm/v/@wei_design/web-vue.svg#crop=0&crop=0&crop=1&crop=1&id=b1XRO&originHeight=20&originWidth=80&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
![](https://img.shields.io/github/stars/wei-design/web-vue#crop=0&crop=0&crop=1&crop=1&id=o8sRG&originHeight=20&originWidth=54&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
## æŠ€æœ¯æ ˆ
**å…³äºæŠ€æœ¯é€‰å‹**
2022å¹´äº†ï¼Œç›¸ä¿¡å¯¹äº`vite`ã€`vue3`å¬å¾—ä¸èƒ½å†å¤šäº†ï¼Œå¯¹äºä»–ä»¬çš„å‰–æä¹Ÿå¤šçš„ä¸èƒ½å†å¤šäº†ï¼Œ
å¦‚æœä½ è¿˜æ²¡ç”¨ä¸Šè¿™äº›ï¼Œä½•ä¸é€ ä¸ªç»„ä»¶åº“ï¼Œä¸€èµ·å·èµ·æ¥...

---

### vue
[https://cn.vuejs.org/](https://cn.vuejs.org/)
è¿™é‡Œä½¿ç”¨[vue3](https://cn.vuejs.org/)å»æ­å»ºï¼Œå…¶å®å°±æ˜¯å¤šäº†ä¸€äº›apiï¼Œæ¢äº†å†™æ³•ï¼Œé€‰é¡¹å¼apiå’Œç»„åˆå¼apiçš„åˆ‡æ¢äº†ï¼Œä¹Ÿå¯ä»¥æ›´ä¸æ»‘çš„ä½¿ç”¨ts
~~è¦ä½¿ç”¨vue2çš„å†™æ³•ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†ä¸æ¨è~~

```json
"vue": "^3.2.*"
```
### vite
[https://cn.vitejs.dev/](https://cn.vitejs.dev/)
åŸç”Ÿ`esm`æ‰“åŒ…å·¥å…·ï¼Œæ²¡ç”¨è¿‡çš„åˆšå¥½å¯ä»¥ç»ƒç»ƒæ‰‹
```json
 "vite": "^3.0.*"
```
### typescript
vue3ç”¨tsé‡å†™äº†ï¼Œæ€§èƒ½å’Œä½“ç§¯éƒ½æ›´ä¼˜ç§€äº†ï¼Œ2202å¹´äº†ï¼Œtså·èµ·æ¥
```json
"typescript": "^4.*.*"
```
### vitepress
```json
"vitepress": "^1.0.0-alpha.*"
```
å½“ç„¶ï¼Œç»„ä»¶åº“å¿…é¡»å¾—æœ‰ä¸€ä¸ªæ–‡æ¡£åº“äº†ï¼Œè¿™é‡Œä½¿ç”¨`vitepress1.0.0-alpha.*`ï¼Œè™½ç„¶è¿˜æ˜¯alphaï¼Œä½†çœ‹åˆ°UIç›¸ä¿¡ä½ ä¹Ÿä¼šç”¨ä¸Šä»–çš„
`vite`å®˜ç½‘ä¹Ÿæ›´æ–°äº†`vitepress1.0.0-alpha.*`

![vitejs-dev-1662039236347.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662039268912-a3e54cd7-6b95-4253-9e34-ff4387ebcd8e.png#clientId=u3b269c12-41b4-4&crop=0.1167&crop=0&crop=0.8795&crop=1&from=paste&height=384&id=u1a486b55&name=vitejs-dev-1662039236347.png&originHeight=1284&originWidth=2561&originalType=binary&ratio=1&rotation=0&showTitle=false&size=430993&status=done&style=none&taskId=udc961700-d09a-4f9f-b242-05fbff150ae&title=&width=766)
## é¡¹ç›®æ­å»º
Node Versionï¼š**>=16.0.0**
å¯ä»¥é€‰æ‹©é€šè¿‡`vite`æä¾›æ¨¡æ¿åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`vue-cli`æ¥åˆ›å»º
å½“ç„¶ï¼Œä¼Ÿå¤§çš„é¡¹ç›®éƒ½æ˜¯ä»`git init`å¼€å§‹çš„
### 1ã€viteæ¨¡æ¿åˆ›å»º
[https://vitejs.dev/guide/#scaffolding-your-first-vite-project](https://vitejs.dev/guide/#scaffolding-your-first-vite-project)

- npm

```bash
npm init vite@latest
```

- yarn

```bash
yarn create vite
```

![doc-vite-vue-ts-init.jpg](https://cdn.nlark.com/yuque/0/2022/jpeg/1088766/1661995215679-3c52c414-87f6-431f-90ee-4329c961d87a.jpeg#clientId=uaef417d0-fb9b-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=105&id=ua8e282c0&name=doc-vite-vue-ts-init.jpg&originHeight=209&originWidth=1154&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24756&status=done&style=none&taskId=ua77689d9-3640-4232-802d-2751e706325&title=&width=577)
é€‰æ‹©`Vue`å¹¶é€‰æ‹©ä½¿ç”¨`TypeScript`

ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šå¯¹åº”çš„æ¨¡æ¿æ¥åˆå§‹åŒ–
```bash
yarn create vite vite-app-vue --template vue-tsc
```

### 2ã€vue cliåˆ›å»º
[https://cn.vuejs.org/guide/quick-start.html#with-build-tools](https://cn.vuejs.org/guide/quick-start.html#with-build-tools)
```bash
npm init vue@latest
```

ä½¿ç”¨å®˜æ–¹`vue cli`å¯ä»¥æä¾›ç»™ä½ å¯¹äº`TypeScript`ã€`ESLint`å’Œ`Vitest`ä¹‹ç±»çš„å¯é€‰æ”¯æŒ
```shell
Vue.js - The Progressive JavaScript Framework

âœ” Project name: â€¦ web-vue
âœ” Add TypeScript? â€¦ No / Yes
âœ” Add JSX Support? â€¦ No / Yes
âœ” Add Vue Router for Single Page Application development? â€¦ No / Yes
âœ” Add Pinia for state management? â€¦ No / Yes
âœ” Add Vitest for Unit Testing? â€¦ No / Yes
âœ” Add Cypress for End-to-End testing? â€¦ No / Yes
âœ” Add ESLint for code quality? â€¦ No / Yes
âœ” Add Prettier for code formatting? â€¦ No / Yes

Scaffolding project in /Users/forguo/work/wei-design/web-vue...

Done. Now run:

cd web-vue
npm install
npm run lint
npm run dev
```
å¦‚æœä¸ºäº†çœäº‹ï¼Œä½¿ç”¨`vue-cli`å³å¯ï¼Œå°±ä¸ç”¨åé¢å†å»é…ç½®`ESLint`ã€`Prettier`
[eslint + prettier](https://juejin.cn/post/7011871773687808031) é…ç½®

---

ä½¿ç”¨vue-cliæ­å»ºä¹‹åï¼Œæ­¤æ—¶çš„æ–‡ä»¶å¤¹ç›®å½•æ˜¯è¿™æ ·çš„
![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662040696960-daa0d4a0-c3f4-4e53-a85d-c5cf6fe18467.png#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=554&id=u1e584cab&name=image.png&originHeight=667&originWidth=824&originalType=binary&ratio=1&rotation=0&showTitle=false&size=30055&status=done&style=none&taskId=u729ec756-6805-4703-9d33-7abafa13223&title=&width=684.7142944335938)
## ç»„ä»¶åº“æ­å»º
### å…³äºç»„ä»¶åº“å¼•ç”¨
é¦–å…ˆï¼Œæ¥è¯´è¯´ç»„ä»¶åº“çš„å¼•ç”¨ï¼Œä¼—çŒ¿å‘¨çŸ¥
ä½¿ç”¨npmåŒ…æœ‰ä¸¤ç§æ–¹å¼ï¼Œè¿˜æœ‰`cdn`å¼•å…¥ï¼ˆåé¢ä¼šè¯´æ€ä¹ˆä½¿ç”¨å…è´¹cdnï¼‰
#### 1ã€å…¨é‡å¼•ç”¨
åœ¨`main.js`ä¸­
```javascript
import { createApp } from 'vue';
import App from './App.vue';
// å®Œæ•´å¼•å…¥ç»„ä»¶åº“
import WeDesign from '@wei_design/web-vue';

const app = createApp(App);
// å…¨å±€å®‰è£…
app.use(WeDesign).mount('#app');
```

ç»„ä»¶å½“ä¸­
```vue
<WeButton :loading="true">æŒ‰é’®ç»„ä»¶</WeButton>
```

#### 2ã€æŒ‰éœ€å¼•å…¥
`main.js`ä¸­
```javascript
import { createApp } from 'vue';
import App from './App.vue';
// æŒ‰éœ€å¼•å…¥
import { Button } from '@wei_design/web-vue';

const app = createApp(App);

app.use(Button).mount('#app');
```

ç»„ä»¶å½“ä¸­
```vue
<WeButton :loading="true">æŒ‰é’®ç»„ä»¶</WeButton>
```
è¦åšä¸€ä¸ªç»„ä»¶åº“ï¼Œå°±å¾—æä¾›è¿™ä¸¤ç§å¼•å…¥æ–¹å¼

### å¼€å§‹ç¬¬ä¸€ä¸ªç»„ä»¶
#### 1ã€ç»„ä»¶å¼€å‘
éœ€è¦å…ˆæ¥æ·»åŠ ä¸‹sassç¼–è¯‘å™¨
```bash
pnpm install sass
```
æ·»åŠ `packages/components`æ–‡ä»¶å¤¹ï¼Œæˆ–`mkdir packages/components`ï¼Œè¿™é‡Œç”¨æ¥å­˜æ”¾ç»„ä»¶åº“çš„æºç 
æ·»åŠ `button`æ–‡ä»¶å¤¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªç»„ä»¶`button`

ç»„ä»¶æ–‡ä»¶å¤¹å¯ä»¥è¿™æ ·æ¥ç»„ç»‡
```
â”œâ”€â”€ src                         	 # ç»„ä»¶æºç 
â”‚   â”œâ”€â”€ index.scss                 # æ ·å¼
â”‚   â”œâ”€â”€ index.vue                  # ç»„ä»¶
â”‚â”€â”€ index.ts                       # ç»„ä»¶åº“å¯¼å‡º
```

`index.scss`ä¸­æ·»åŠ æ ·å¼
```css
@import "../../../theme/color.variables";

button {
  outline: none;
}
.we-button {
  padding: 8px 12px;
  overflow: hidden;
  border-radius: 6px;
  border: 0;
  text-align: center;
  display: inline-block;
  position: relative;
  outline: none;
  font-weight: 400;
  -webkit-appearance: none;
  user-select: none;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.1s linear;
  box-sizing: border-box;
}

.we-button-type-default {
  background: $primaryColor;
  color: $white;
}
.we-button-disabled {
  background-color: #f7f7fa;
  cursor: not-allowed;
  color: $black;
  &:focus,
  &:hover {
    background-color: #f7f7fa;
    outline: none;
  }
}

```

`index.vue`ä¸­æ·»åŠ `button`ç»„ä»¶ä»£ç 
`vue3`åŠ`ts`å¯ä»¥æå‰æ¥æµ…å­¦ä¸€ä¸‹
```vue
<template>
  <button :class="[classString]" :disabled="disabled">
    <slot></slot>
  </button>
</template>

<script lang="ts">
  import { defineComponent, PropType } from 'vue'
  import './index.scss'

  const Props = {
    type: {
      type: String as PropType<string>, // è½¬ä¸ºtsç±»å‹string
      default: 'default'
    },
    disabled: {
      type: Boolean as PropType<boolean>,
      default: false
    },
  }

  export default defineComponent({
    name: 'WeButton',
    props: Props,
    setup(props) {
      const classString = [
        'we-button',
        `we-button-type-${props.type}`,
        props.disabled ? 'we-button-disabled' : ''
      ]
      return {
        classString
      }
    }
  })
</script>
```

æ·»åŠ `index.ts`
[ç»„ä»¶æ³¨å†Œ](https://cn.vuejs.org/guide/components/registration.html)
**å•ä¸ªç»„ä»¶çš„ä½¿ç”¨ï¼Œä¹Ÿæœ‰å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œ**

å±€éƒ¨æ³¨å†Œé€šè¿‡`components`æ¥å®Œæˆ
å…¨å±€æ³¨å†Œå°±å¾—é€šè¿‡`App.component(Button.name, Button)`
å½“ç„¶ï¼Œè¿™æ ·é¡µæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥æä¾›`install`æ–¹æ³•ï¼Œä½¿ç”¨çš„æ—¶å€™é€šè¿‡`use`æ–¹æ³•æ¥å®Œæˆæ³¨å†Œ
```typescript
import { App } from 'vue'

import Button from './src/index.vue'
Button.install = function (app: App) {
  // ç»„ä»¶æ³¨å†Œï¼ŒæŒ‰éœ€å¼•å…¥
  app.component(Button.name, Button)
  return app
}

export default Button

```

#### 2ã€ç»„ä»¶åº“å¯¼å‡º
æ·»åŠ `component.ts`ï¼Œå¯¼å‡ºæ‰€æœ‰çš„ç»„ä»¶
```typescript
/**
 * å¯¼å‡ºæ‰€æœ‰ç»„ä»¶
 */
import Button from './components/button'

export default [Button]

export { Button }

```
æ·»åŠ `index.ts`ï¼Œæä¾›ç»„ä»¶åº“å…¨é‡æ³¨å†Œå¼•å…¥åŠå•ä¸ªç»„ä»¶æ³¨å†Œå¼•å…¥
```typescript
import { App } from 'vue'
import components from './component'
// æ‰€æœ‰ç»„ä»¶
export * from './component'

// å®Œæ•´å¼•å…¥ç»„ä»¶
const install = function (app: App) {
  components.forEach(component => {
    app.use(component as unknown as { install: () => any })
  })
}

export default {
  install
}

```

ä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›å…¬å…±çš„å·¥å…·åŠæ’ä»¶åˆ°`packages`æ–‡ä»¶å¤¹ä¸‹
æœ€ç»ˆçš„`packages`æ˜¯è¿™æ ·çš„
```
â”œâ”€â”€ components/*                   # ç»„ä»¶æºç 
â”‚â”€â”€ theme                      		 # æ ·å¼åŠä¸»é¢˜æ–‡ä»¶
â”‚â”€â”€ utils                      		 # å·¥å…·åŠæ’ä»¶
â”‚â”€â”€ component.ts                   # æ‰€æœ‰çš„ç»„ä»¶éƒ½åœ¨è¿™é‡Œæ¥ç®¡ç†
â”‚â”€â”€ index.ts                       # å¯¼å‡ºå•ä¸ªç»„ä»¶æˆ–è€…æ•´ä¸ªç»„ä»¶åº“
```
#### 3ã€è°ƒè¯•
åœ¨`src/main.js`ä¸­å¼•å…¥ç»„ä»¶åº“æ¥æµ‹è¯•ç»„ä»¶çš„æ•ˆæœ
```typescript
import { createApp } from 'vue'
import App from './App.vue'
// å®Œæ•´å¼•å…¥ç»„ä»¶åº“
import WeDesign from '../packages/index' // å¯ä»¥é…ç½®alias

const app = createApp(App)

app.use(WeDesign).mount('#app')

```

`app.vue`å½“ä¸­ä½¿ç”¨
```vue
<template>
  <div class="wei-app">
    <h1>wei-design</h1>
    <hr>
      <div>
        <we-button>æŒ‰é’®ç»„ä»¶</we-button>
        <we-button style="margin-left: 12px" disabled>æŒ‰é’®ç»„ä»¶</we-button>
      </div>
    </div>
</template>
```

runä¸€ä¸‹ï¼Œçœ‹ä¸‹æ•ˆæœï¼Œç»„ä»¶åº“çš„é›å½¢å°±å¥½äº†![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662043033757-e0f72849-5567-4760-881a-ef8c1011f576.png#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=182&id=u1e09fe51&name=image.png&originHeight=219&originWidth=1115&originalType=binary&ratio=1&rotation=0&showTitle=false&size=7852&status=done&style=none&taskId=ub94d75c6-96e9-4b48-816e-efe4042997d&title=&width=926)

---

`packages`æœ€ç»ˆæ˜¯è¿™æ ·çš„
![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662132025412-9faae7e1-d9dd-4216-aa7b-c5c80db8eb69.png#clientId=ud94b0340-e4a2-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=486&id=uade4b71a&name=image.png&originHeight=972&originWidth=968&originalType=binary&ratio=1&rotation=0&showTitle=false&size=72693&status=done&style=none&taskId=u9e56a8ca-ce9a-486e-b5a3-f239ae18688&title=&width=484)
## è§„èŒƒåŒ–
å¯ä»¥æå‰é…ç½®å¥½ï¼Œå¼€å‘ä½“éªŒä¼šæ›´å¥½ï¼Œå°±ä¸å…·ä½“è®²äº†
### Gitæäº¤è§„èŒƒ

- [commitè§„èŒƒ](https://juejin.cn/post/7138790324494827533)
### ä»£ç è§„èŒƒ

- [eslint + prettier](https://juejin.cn/post/7011871773687808031)

## ç»„ä»¶åº“å‘å¸ƒ
ç»„ä»¶åº“å¼€å‘å¥½äº†ï¼Œå°±å¾—å‘å¸ƒ`npm`ï¼Œåˆ«äººå°±å¯ä»¥æ¥å®‰è£…ä½¿ç”¨äº†
[åˆ›å»ºå¹¶å‘å¸ƒä¸€ä¸ªnpmåŒ…](https://juejin.cn/post/6987695534504935438)
### 1ã€æ‰“åŒ…é…ç½®
[viteåº“æ¨¡å¼é…ç½®](https://cn.vitejs.dev/guide/build.html#library-mode)
ç¼–è¾‘`vite.config.ts`
```typescript
// [viteåº“æ¨¡å¼é…ç½®](https://cn.vitejs.dev/guide/build.html#library-mode)
build: {
  outDir: 'lib',
    lib: {
    entry: resolve(__dirname, './packages/index.ts'),
      name: 'WebVue',
      fileName: 'web-vue'
  },
  rollupOptions: {
    // ç¡®ä¿å¤–éƒ¨åŒ–å¤„ç†é‚£äº›ä½ ä¸æƒ³æ‰“åŒ…è¿›åº“çš„ä¾èµ–
    external: ['vue'],
      output: {
      // åœ¨ UMD æ„å»ºæ¨¡å¼ä¸‹ä¸ºè¿™äº›å¤–éƒ¨åŒ–çš„ä¾èµ–æä¾›ä¸€ä¸ªå…¨å±€å˜é‡
      globals: {
        vue: 'Vue'
      }
    }
  }
},
```
é…ç½®å¥½ä¹‹åï¼Œæ‰§è¡Œ`npm run build`å®Œæˆæ‰“åŒ…
![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662046705379-7923f77b-fd43-4f42-b39e-2eda55224b07.png#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=164&id=tYi2a&name=image.png&originHeight=184&originWidth=483&originalType=binary&ratio=1&rotation=0&showTitle=false&size=7295&status=done&style=none&taskId=ue23bff85-2458-4ff8-81e3-005ad93b743&title=&width=431.24999816396405)

### 2ã€packageé…ç½®
ä¸»è¦éœ€è¦ä¿®æ”¹ä»¥ä¸‹å‡ ç‚¹
[package.jsonä¸­çš„browserï¼Œmoduleï¼Œmainè§£æ](https://juejin.cn/post/6844903862977953806)
```json
{
    "name": "@wei_design/web-vue", // åŒ…åï¼Œå¯ä»¥ç›´æ¥æ˜¯åŒ…åï¼Œä¹Ÿå¯ä»¥@wei_design[ç»„ç»‡]/web-vue[åŒ…å]
    "private": false, // æ˜¯å¦ç§æœ‰åŒ…ï¼Œå‘å¸ƒå…¬å…±çš„éœ€è¦è®¾ç½®false
    "version": "1.0.0", // ç‰ˆæœ¬ï¼Œæ¯æ¬¡å‘å¸ƒéƒ½éœ€è¦ä¿®æ”¹
    "author": "wforguo@qq.com",
    "description": "Wei Design - A Vue.js 3 UI library, @wei_design/web-vue", // åŒ…çš„ç®€è¿°
    "keywords": [
        "@wei_design/web-vue" // å…³é”®è¯
    ],
    "homepage": "https://wei-design.github.io/web-vue/",
    "repository": {
        "type": "git",
        "url": "https://github.com/wei-design/web-vue.git"
    },
    // ä¸»è¦ä¸Šä¼ å“ªäº›æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹åˆ°npm
    "files": [
        "lib/*",
        "packages/*",
        "Readme.md",
        "package.json"
    ],
    // å…¥å£æ–‡ä»¶ã€æ³¨æ„æ–‡ä»¶åç¼€ã€‘
    "main": "./lib/web-vue.umd.js",
    "module": "./lib/web-vue.mjs",
    "exports": {
        ".": {
            "import": "./lib/web-vue.mjs",
            "require": "./lib/web-vue.umd.js"
        },
        // è¿™é‡Œcssé¡µéœ€è¦å¯¼å‡ºï¼Œå¦åˆ™å¯¼å…¥cssä¼šæŠ¥é”™
        "./lib/style.css": "./lib/style.css"
    },
    "engines": {
        "node": ">=16.0.0"
    }
}

```

### 3ã€npmå‘å¸ƒ
[å¦‚ä½•å‘å¸ƒè‡ªå·±çš„ npm åŒ…](https://juejin.cn/post/7039140144250617887)
é¦–å…ˆå»æ³¨å†Œä¸€ä¸ªnpmè´¦å·
åœ¨ç”µè„‘terminalä¸­ç™»å½•npmï¼Œå¯ä»¥ä½¿ç”¨`npm whoami`å…ˆæ¥æŸ¥çœ‹`npm`ç™»å½•çŠ¶æ€
```javascript
npm login 
```

- ç§æœ‰å‘å¸ƒ

npm publish å‘½ä»¤æ‰§è¡Œï¼Œé»˜è®¤æ˜¯è¿›è¡Œç§æœ‰å‘å¸ƒ
scopedçš„åŒ…ç§æœ‰å‘å¸ƒæ—¶éœ€è¦æ”¶è´¹

- å…¬å…±å‘å¸ƒ
```shell
npm publish --access public
```
å‘å¸ƒæˆåŠŸä¹‹åï¼Œé‚®ç®±ä¹Ÿä¼šæ”¶åˆ°æé†’

å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œä½ çš„ç»„ä»¶åº“å°±å·²ç»æˆåŠŸä¸Šçº¿äº†
æ¥ä¸‹æ¥å°±æ˜¯å»ä½¿ç”¨çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜
```bash
import { createApp } from 'vue';
import App from './App.vue';
// å®Œæ•´å¼•å…¥ç»„ä»¶åº“
import WeDesign from '@wei_design/web-vue';

const app = createApp(App);
// å…¨å±€å®‰è£…
app.use(WeDesign).mount('#app');
```

## ä½¿ç”¨CDN
**Free CDN for Open Source**
ä¸¤ä¸ªéƒ½æ˜¯å¼€æºå…è´¹çš„CDNï¼Œåªè¦ä½ å‘å¸ƒäº†npmï¼Œæ›¿æ¢ä¸‹é¢åŒ…åä¸ºå°±å¯ä»¥å»ä½¿ç”¨äº†
### 1ã€unpkg
[èµ„æºæµè§ˆ](https://unpkg.com/@wei_design/web-vue/) [https://unpkg.com/@wei_design/web-vue/](https://unpkg.com/@wei_design/web-vue/)

```html
<link
    rel="stylesheet"
    href="//unpkg.com/@wei_design/web-vue/lib/style.css"
/>
<script src="//unpkg.com/@wei_design/web-vue"></script>
```

### 2ã€jsdelivr
[èµ„æºæµè§ˆ](https://cdn.jsdelivr.net/npm/@wei_design/web-vue/) [https://cdn.jsdelivr.net/npm/@wei_design/web-vue/](https://cdn.jsdelivr.net/npm/@wei_design/web-vue/)

```html
<link
    rel="stylesheet"
    href="//cdn.jsdelivr.net/npm/@wei_design/web-vue/lib/style.css"
/>
<script src="//cdn.jsdelivr.net/npm/@wei_design/web-vue"></script>
```

## é—®é¢˜åŠè§£å†³
åˆ—ä¸¾äº†ä¸€äº›è‡ªå·±é‡åˆ°çš„é—®é¢˜ï¼Œå¸Œæœ›ä¸ä¼šå¸®åˆ°ä½ 
å¦‚æœæœ‰é‡åˆ°é—®é¢˜ï¼Œä¸çŸ¥é“æ€ä¹ˆè§£å†³ï¼Œå¯ä»¥åˆ°githubä¸Š[@wei_design/web-vue](https://github.com/wei-design/web-vue)å¯¹æ¯”ä»£ç çœ‹ä¸‹æ˜¯å¦å“ªé‡Œæœ‰ä¸å¯¹çš„åœ°æ–¹

- ã€ç»„ä»¶åº“å‘å¸ƒã€‘npm publish æ—¶æç¤ºéœ€è¦å‡çº§TLS 1.2çš„è§£å†³æ–¹æ¡ˆ

çœ‹çœ‹registryæ˜¯å¦æ˜¯httpsçš„ï¼Œå¦åˆ™éœ€è¦åˆ‡æ¢åˆ°https
```shell
npm config set registry https://registry.npmjs.org
```

- ã€ç»„ä»¶åº“npmä½¿ç”¨ã€‘å‰¯ä½œç”¨å¯¼è‡´æ‰“åŒ…åå¼•å…¥npmä¸­çš„cssæŠ¥é”™

[sideEffects](https://juejin.cn/post/7096307096836112398)

- ã€æ–‡æ¡£åº“ã€‘è¿è¡ŒæŠ¥é”™æŠ¥é”™ï¼šTypeError: Invalid value used as weak map key

**mdä¸­æœ‰æ— æ³•è§£æçš„æ ‡ç­¾å¯¼è‡´**

- ã€ç»„ä»¶åº“npmä½¿ç”¨ã€‘å¼•å…¥`lib/style.css`å¯¼è‡´`ModuleNotFound`é”™è¯¯

![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662047072550-bab12d22-4f10-464d-8600-d86e8cf26b70.png#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=115&id=ube944a3c&name=image.png&originHeight=219&originWidth=1456&originalType=binary&ratio=1&rotation=0&showTitle=false&size=93392&status=done&style=none&taskId=u5d447d50-e0ef-4204-91b4-c252ac5c16d&title=&width=766)
ä¿®æ”¹`exports`å¯¼å‡ºæ¡ä»¶è¯­æ³•ï¼Œæ–°å¢`./lib/style.css`
```json
"exports": {
    ".": {
        "import": "./lib/web-vue.es.js",
        "require": "./lib/web-vue.umd.js"
    },
    "./lib/style.css": "./lib/style.css"
}
```

- ã€æ–‡æ¡£åº“ã€‘vitepressæ‰“åŒ…æŠ¥é”™

`To load an ES module, set "type": "module" in the package.json or use the .mjs extension.`
![image.png](https://cdn.nlark.com/yuque/0/2022/png/1088766/1662047185520-b9993fe5-7461-4d57-9657-1124dc085631.png#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=446&id=u96df0e19&name=image.png&originHeight=623&originWidth=1071&originalType=binary&ratio=1&rotation=0&showTitle=false&size=94993&status=done&style=none&taskId=u31e850e7-5ec0-47c9-a474-c4f4697ec0a&title=&width=766)

è§£å†³åŠæ³•ï¼Œä¿®æ”¹`vite.config.ts`ä¸­libé…ç½®
```javascript
build {
    lib: {
          entry: resolve(__dirname, './packages/index.ts'),
          name: 'WebVue',
          fileName: 'web-vue'
    },
}
```

ä¿®æ”¹package.json
```json
"main": "./lib/web-vue.umd.js",
"module": "./lib/web-vue.mjs",
"exports": {
    ".": {
        "import": "./lib/web-vue.mjs",
        "require": "./lib/web-vue.umd.js"
    },
    "./lib/style.css": "./lib/style.css"
},
```

## æ–‡æ¡£åº“æ­å»º
![04F5F5DD.jpg](https://cdn.nlark.com/yuque/0/2022/jpeg/1088766/1662047547308-a3e841b5-4052-45be-a6c3-ef000d40e43b.jpeg#clientId=u3b269c12-41b4-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=58&id=fp05H&name=04F5F5DD.jpg&originHeight=240&originWidth=240&originalType=binary&ratio=1&rotation=0&showTitle=false&size=12932&status=done&style=none&taskId=uabd0645c-ee8b-4028-8804-9a54e7eb440&title=&width=58.28125)
æ­£åœ¨åŠªåŠ›åŠ è½½ä¸­....

---

éƒ½åˆ°è¿™äº†ï¼Œç‚¹ä¸ªèµå†èµ°å§
[GitHub](https://github.com/wei-design/web-vue)å¥‰ä¸Š...
